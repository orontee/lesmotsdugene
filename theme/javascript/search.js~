'strict';


 document.getElementById('search-field').addEventListener('input', async function() {
     if (!this.value) {
         return;
     }
     const pagefind = await import("/pagefind/pagefind.js");
     if (this.value.length<4) {
         pagefind.preload(this.value);
         return;
     }
     const search = await pagefind.debouncedSearch(this.value);
     if (search != null) {
         const max_results = 5;
         const first_five_found = search.results.slice(0, 5);
         const first_five_results = first_five_found.map(item => item.data());
         await Promise.all(first_five_results);


     
     }
 }

function displayResults(results) {
  const resultsList = document.getElementById('search-results');
 resultsList.innerHTML = '';
 if (results.length > 0) {
     resultsList.style.display = 'block';
     results.forEach(result => {
         const li = document.createElement('li');
         li.textContent = result;
         resultsList.appendChild(li);
     });
 } else {
     resultsList.style.display = 'none';
 }
 }
     
 );
